@{
    ViewData["Title"] = "Article Graph";
}


<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/orb/orb.css">
    <script src="https://cdn.jsdelivr.net/npm/orb"></script>
</head>
<body>
    <h1>Article Graph Visualization</h1>
    <div id="graph-container" style="width: 100%; height: 600px;"></div>

    <script>
        const container = document.getElementById('graph-container');

        fetch('/api/articles')
            .then(response => response.json())
            .then(data => {
                const graph = new orb.Graph({
                    container: container,
                    nodeColor: 'blue',
                    edgeColor: 'green',
                    nodeSize: 20,
                    edgeWidth: 2,
                });

                data.nodes.forEach(node => graph.addNode(node.id, { label: node.label }));
                data.edges.forEach(edge => graph.addEdge(edge.source, edge.target));

                graph.draw();
            });
    </script>
</body>